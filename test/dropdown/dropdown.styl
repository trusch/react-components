@import '../../app/app.styl'

$line-height = 25
$padding-vertical = 2
$padding-horizontal = 5

dropdown
  display: inline-block
  position: relative
  color: $font-color-active
  margin: 10px

  &.disabled
    opacity: 0.5
    pointer-events: none
    cursor: default

  &.error
    border: 1px solid red

  &:focus
    outline: 0

  .dropdown-select
    position: relative
    height: $line-height + $padding-vertical * 2 + 2
    border: 1px solid $font-color-active
    border-radius: 3px
    cursor: pointer

    .dropdown-value
      display: inline-block
      padding: $padding-vertical $padding-horizontal
      line-height: ($line-height)px
      vertical-align: top
    
    .dropdown-arrow
      display: inline-block
      position: absolute
      right: $padding-horizontal
      top: 50%
      margin-top: -8px
      margin-right: 2px

      &:after
        display: inline-block
        content: ''
        width: 10px
        height: 10px
        border-style: solid
        border-color: $font-color-active
        border-width: 0 1px 1px 0
        transform: rotate(45deg)

  .dropdown-frame
    position: absolute
    top: 0
    left: -1
    overflow: hidden
    border-width: 1px 0
    border-style: solid
    border-color: transparent
    border-radius: 3px
    visibility: hidden
    opacity: 0
    transition: visibility 0.3s linear 0.3s, opacity 0.3s linear 0.3s, border 0s linear 0.3s
    
    &.open
      transition: visibility 0.3s linear, opacity 0.3s linear
      visibility: visible
      opacity: 1
      z-index: 1

      &.bordertop
        transition: border 0s linear 0.2s
        border-top-color: $font-color-active

      &.borderbottom
        transition: border 0s linear 0.2s
        border-bottom-color: $font-color-active

    .dropdown-options
      position: relative
      top: 0
      margin: -3px 0 0
      background: $bg-color-default
      border: 1px solid $font-color-active
      border-radius: 3px
      padding: $padding-vertical 0
      transition: top 0.3s

      li
        position: relative
        padding: 0 ($padding-horizontal +25) 0 $padding-horizontal
        white-space: nowrap
        line-height: ($line-height)px
        cursor: pointer
        z-index: 0

        &:after
          content: ''
          position: absolute
          top: 0
          left: 50%
          width: 0
          height: 100%
          background-color: #666
          border-radius: 50%
          z-index: -1

        &.active
          border-style: solid
          border-color: #aaa
          border-width: 1px 0

        &.selected
          &:after
            left: 0
            width: 100%
            border-radius: 0
            transition: width 0.3s, left 0.3s, border-radius 0.5s
